# üêç Use Python 3.11 slim image
FROM python:3.11-slim

# Set working directory
WORKDIR /app

# Copy the Gradio app code into the container
COPY . .

# Install dependencies (gradio + optional)
RUN pip install --no-cache-dir --upgrade pip && \
    pip install --no-cache-dir gradio==4.38.0 huggingface_hub==0.19.4 requests

# Expose port for Gradio
EXPOSE 4103

# Set environment variable to disable analytics/log spam
ENV GRADIO_ANALYTICS_ENABLED="False"
ENV PYTHONPATH=/app

CMD ["python", "gradio_ui/app.py"]